package info.nukoneko.cuc.kidspos.activity;import android.app.Dialog;import android.os.Bundle;import android.widget.TextView;import butterknife.Bind;import butterknife.ButterKnife;import info.nukoneko.cuc.kidspos.R;import info.nukoneko.cuc.kidspos.common.CommonActivity;import info.nukoneko.cuc.kidspos.util.AppUtils;import info.nukoneko.cuc.kidspos.util.KPLogger;import info.nukoneko.cuc.kidspos.util.KPToast;import info.nukoneko.cuc.kidspos.view.CalcView;import info.nukoneko.cuc.kidspos.view.YesNoDialog;/** * Created by TEJNEK on 2015/10/12. */public class CalculatorActivity extends CommonActivity implements CalcView.OnItemClickListener {    @Bind(R.id.account)    TextView mAccount;    @Bind(R.id.money) TextView mMoney;    @Bind(R.id.calc)    CalcView mCalc;    int sumPrice = 0;    int receiveMoney = 0;    @Override    public void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_calculator);        ButterKnife.bind(this);        this.mCalc.setOnItemClickListener(this);    }    @Override    protected void onStart() {        super.onStart();        this.sumPrice = getIntent().getIntExtra(AppUtils.INTENT.EXTRA_VALUE, 0);        if (sumPrice == 0){            KPToast.showToast("値段が正しく読み込まれませんでした");            finish();            return;        }        this.mAccount.setText(String.valueOf(this.sumPrice));    }    @Override    public void onClickNumber(int number) {        if (10000 > this.receiveMoney && this.receiveMoney > 999){            return;        }        if (this.receiveMoney == 0){            this.receiveMoney = number;        }else {            this.receiveMoney = this.receiveMoney * 10 + number;        }        this.mMoney.setText(String.valueOf(this.receiveMoney));    }    @Override    public void onClickClear() {        if (10 > this.receiveMoney){            this.receiveMoney = 0;        }else {            this.receiveMoney = (int)Math.floor(this.receiveMoney / 10);        }        this.mMoney.setText(String.valueOf(this.receiveMoney));    }    @Override    public void onClickEnd() {        KPLogger.d(this.receiveMoney);        if(!this.isValueCheck()) return;        YesNoDialog dialog = YesNoDialog.newInstance(R.string.dialog_kakunin, this.sumPrice, this.receiveMoney);        dialog.setNegativeInterface(new YesNoDialog.DialogOnClickListener() {            @Override            public void onClick(Dialog dialog) {                dialog.cancel();            }        });        dialog.setPositiveInterface(new YesNoDialog.DialogOnClickListener() {            @Override            public void onClick(Dialog dialog) {                send();                dialog.cancel();                finish();            }        });        dialog.show(getFragmentManager(), "yesno");    }    public boolean isValueCheck(){        return true;    }    public void send(){    }}